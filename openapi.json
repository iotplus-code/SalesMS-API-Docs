{
    "openapi": "3.0.1",
    "info": {
      "title": "학교 납품 관리 시스템 API",
      "description": "학교 정보, 납품 정보, VOC 관련 API를 제공합니다.",
      "contact": {
        "name": "관리자",
        "email": "admin@example.com"
      },
      "license": {
        "name": "Apache 2.0",
        "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
      },
      "version": "1.0.0"
    },
    "servers": [
      {
        "url": "http://localhost:8082",
        "description": "로컬 서버"
      }
    ],
    "tags": [
      {
        "name": "학교 정보 API",
        "description": "학교 정보 조회 관련 API"
      },
      {
        "name": "Account",
        "description": "사용자 인증 API"
      },
      {
        "name": "일정 관리 API",
        "description": "일정 관리 CRUD API"
      },
      {
        "name": "방문 기록 API",
        "description": "학교 방문 기록 조회 관련 API"
      }
    ],
    "paths": {
      "/api/schedules/{id}": {
        "get": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "일정 상세 조회",
          "description": "일정 ID로 특정 일정의 상세 정보를 조회합니다.",
          "operationId": "getScheduleById",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "일정 ID",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int32"
              },
              "example": 1
            }
          ],
          "responses": {
            "404": {
              "description": "일정을 찾을 수 없음"
            },
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ScheduleResponseDto"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "일정 수정",
          "description": "기존 일정을 수정합니다.",
          "operationId": "updateSchedule",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "일정 ID",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int32"
              },
              "example": 1
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleRequestDto"
                }
              }
            },
            "required": true
          },
          "responses": {
            "400": {
              "description": "잘못된 요청"
            },
            "404": {
              "description": "일정을 찾을 수 없음"
            },
            "200": {
              "description": "수정 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ScheduleResponseDto"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "일정 삭제",
          "description": "일정을 삭제합니다.",
          "operationId": "deleteSchedule",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "일정 ID",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int32"
              },
              "example": 1
            }
          ],
          "responses": {
            "204": {
              "description": "삭제 성공"
            },
            "404": {
              "description": "일정을 찾을 수 없음"
            }
          }
        }
      },
      "/api/schedules": {
        "get": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "모든 일정 조회",
          "description": "모든 일정을 조회합니다.",
          "operationId": "getAllSchedules",
          "responses": {
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ScheduleResponseDto"
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "일정 생성",
          "description": "새로운 일정을 생성합니다.",
          "operationId": "createSchedule",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleRequestDto"
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "description": "생성 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ScheduleResponseDto"
                  }
                }
              }
            },
            "400": {
              "description": "잘못된 요청"
            }
          }
        }
      },
      "/api/auth/login": {
        "post": {
          "tags": [
            "Account"
          ],
          "summary": "사용자 로그인",
          "description": "사용자 아이디와 비밀번호로 로그인합니다.",
          "operationId": "login",
          "requestBody": {
            "description": "로그인 요청 정보",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginRequest"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "로그인 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/LoginResponse"
                  }
                }
              }
            },
            "401": {
              "description": "로그인 실패 - 아이디 또는 비밀번호 불일치",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/LoginResponse"
                  }
                }
              }
            },
            "500": {
              "description": "서버 에러",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/LoginResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/api/visits/{id}": {
        "get": {
          "tags": [
            "방문 기록 API"
          ],
          "summary": "방문 기록 상세 조회",
          "description": "방문 기록 ID로 특정 방문 기록의 상세 정보를 조회합니다. VOC 내용 및 해결 상태 등 상세 정보를 확인할 수 있습니다.",
          "operationId": "getVisitLogById",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "방문 기록 ID",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "example": 1
            }
          ],
          "responses": {
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/VisitLogResponse"
                  },
                  "examples": {
                    "방문 기록 상세 예시": {
                      "description": "방문 기록 상세 예시",
                      "value": {
                        "id": 1,
                        "schoolId": "SCH001",
                        "region": "강진",
                        "visitDate": "2025-04-30T00:00:00",
                        "purpose": "납품",
                        "interviewer": "임희수",
                        "vocOccurred": true,
                        "vocContent": "제품 불량 발견",
                        "vocResolved": false,
                        "resolution": null,
                        "completeDate": null
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "방문 기록을 찾을 수 없음"
            }
          }
        }
      },
      "/api/visits/school/{schoolId}": {
        "get": {
          "tags": [
            "방문 기록 API"
          ],
          "summary": "학교별 방문 기록 목록 조회",
          "description": "특정 학교에 대한 방문 기록 목록을 조회합니다. 방문 일자, 목적, VOC 발생 여부 등을 확인할 수 있습니다.",
          "operationId": "getVisitLogsBySchoolId",
          "parameters": [
            {
              "name": "schoolId",
              "in": "path",
              "description": "학교 ID (ex: SCH001)",
              "required": true,
              "schema": {
                "type": "string"
              },
              "example": "SCH001"
            }
          ],
          "responses": {
            "404": {
              "description": "학교를 찾을 수 없음"
            },
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/VisitLogResponse"
                    }
                  },
                  "examples": {
                    "방문 기록 목록 예시": {
                      "description": "방문 기록 목록 예시",
                      "value": [
                        {
                          "id": 1,
                          "schoolId": "SCH001",
                          "region": "강진",
                          "visitDate": "2025-04-30T00:00:00",
                          "purpose": "납품",
                          "interviewer": "임희수",
                          "vocOccurred": true,
                          "vocContent": null,
                          "vocResolved": false,
                          "resolution": null,
                          "completeDate": null
                        },
                        {
                          "id": 2,
                          "schoolId": "SCH001",
                          "region": "강진",
                          "visitDate": "2025-04-29T00:00:00",
                          "purpose": "영업",
                          "interviewer": "임희수",
                          "vocOccurred": false,
                          "vocContent": null,
                          "vocResolved": null,
                          "resolution": null,
                          "completeDate": null
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/api/schools": {
        "get": {
          "tags": [
            "학교 정보 API"
          ],
          "summary": "학교 정보 목록 조회",
          "description": "학교 정보, 납품 정보, VOC 정보를 포함한 학교 정보 목록을 조회합니다. 다양한 필터링 조건을 적용할 수 있습니다.",
          "operationId": "getSchoolInfoList",
          "parameters": [
            {
              "name": "region",
              "in": "query",
              "description": "지역 필터 (ex: 강진)",
              "required": false,
              "schema": {
                "type": "string"
              },
              "example": "강진"
            },
            {
              "name": "schoolName",
              "in": "query",
              "description": "학교명 필터 (부분 검색 가능)",
              "required": false,
              "schema": {
                "type": "string"
              },
              "example": "교육"
            },
            {
              "name": "teacherName",
              "in": "query",
              "description": "담당교사명 필터 (부분 검색 가능)",
              "required": false,
              "schema": {
                "type": "string"
              },
              "example": "임희"
            },
            {
              "name": "startDate",
              "in": "query",
              "description": "납품일 시작일 (yyyy-MM-dd 형식)",
              "required": false,
              "schema": {
                "type": "string",
                "format": "date"
              },
              "example": "2025-01-01"
            },
            {
              "name": "endDate",
              "in": "query",
              "description": "납품일 종료일 (yyyy-MM-dd 형식)",
              "required": false,
              "schema": {
                "type": "string",
                "format": "date"
              },
              "example": "2025-12-31"
            }
          ],
          "responses": {
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/SchoolInfoResponseDto"
                    }
                  },
                  "examples": {
                    "학교 정보 목록 예시": {
                      "description": "학교 정보 목록 예시",
                      "value": [
                        {
                          "schoolId": "SCH001",
                          "region": "강진",
                          "schoolName": "강진지원교육청",
                          "url": "www.gumseang.es.kr",
                          "teacherName": "임희수",
                          "teacherPhone": "010-5683-5672",
                          "vocOccurred": true,
                          "vocResolved": false,
                          "chargerPw": "1234",
                          "quantity": 10,
                          "deliveryDate": "2025-03-10T00:00:00",
                          "amount": 1000000,
                          "vocCode": null
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/api/schedules/search": {
        "get": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "일정 검색",
          "description": "일정 제목으로 일정을 검색합니다.",
          "operationId": "searchSchedules",
          "parameters": [
            {
              "name": "title",
              "in": "query",
              "description": "검색할 일정 제목",
              "required": true,
              "schema": {
                "type": "string"
              },
              "example": 1555
            }
          ],
          "responses": {
            "200": {
              "description": "검색 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ScheduleResponseDto"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/api/schedules/period": {
        "get": {
          "tags": [
            "일정 관리 API"
          ],
          "summary": "기간별 일정 조회",
          "description": "시작일과 종료일 사이의 모든 일정을 조회합니다.",
          "operationId": "getSchedulesByPeriod",
          "parameters": [
            {
              "name": "startDate",
              "in": "query",
              "description": "시작일 (yyyy-MM-dd 형식)",
              "required": true,
              "schema": {
                "type": "string"
              },
              "example": "2025-05-01"
            },
            {
              "name": "endDate",
              "in": "query",
              "description": "종료일 (yyyy-MM-dd 형식)",
              "required": true,
              "schema": {
                "type": "string"
              },
              "example": "2025-05-31"
            }
          ],
          "responses": {
            "400": {
              "description": "잘못된 요청"
            },
            "200": {
              "description": "조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ScheduleResponseDto"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/user/{userId}": {
        "get": {
          "tags": [
            "Account"
          ],
          "summary": "사용자 정보 조회",
          "description": "사용자 ID로 사용자 정보를 조회합니다.",
          "operationId": "getUserInfo",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "description": "조회할 사용자 ID",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "404": {
              "description": "사용자 정보 없음",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            },
            "200": {
              "description": "사용자 정보 조회 성공",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AccountDto"
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/check": {
        "get": {
          "tags": [
            "Account"
          ],
          "summary": "토큰 유효성 검증",
          "description": "현재 로그인 상태 및 토큰 유효성을 확인합니다.",
          "operationId": "checkLoginStatus",
          "parameters": [
            {
              "name": "Authorization",
              "in": "header",
              "description": "인증 토큰 (Bearer 형식)",
              "required": false,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "토큰 유효성 확인 결과",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "ScheduleRequestDto": {
          "required": [
            "color",
            "title"
          ],
          "type": "object",
          "properties": {
            "title": {
              "type": "string",
              "description": "일정 제목",
              "example": "31244"
            },
            "color": {
              "type": "string",
              "description": "일정 색상",
              "example": "#1E90FF"
            },
            "startDate": {
              "type": "string",
              "description": "시작 일시",
              "format": "date-time"
            },
            "endDate": {
              "type": "string",
              "description": "종료 일시",
              "format": "date-time"
            }
          },
          "description": "일정 요청 DTO"
        },
        "ScheduleResponseDto": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "description": "일정 ID",
              "format": "int32",
              "example": 1
            },
            "title": {
              "type": "string",
              "description": "일정 제목",
              "example": "31244"
            },
            "color": {
              "type": "string",
              "description": "일정 색상",
              "example": "#1E90FF"
            },
            "startDate": {
              "type": "string",
              "description": "시작 일시",
              "format": "date-time"
            },
            "endDate": {
              "type": "string",
              "description": "종료 일시",
              "format": "date-time"
            },
            "createdAt": {
              "type": "string",
              "description": "생성 일시",
              "format": "date-time"
            },
            "updatedAt": {
              "type": "string",
              "description": "수정 일시",
              "format": "date-time"
            }
          },
          "description": "일정 응답 DTO"
        },
        "LoginRequest": {
          "type": "object",
          "properties": {
            "userId": {
              "type": "string"
            },
            "password": {
              "type": "string"
            }
          }
        },
        "LoginResponse": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "userId": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "token": {
              "type": "string"
            },
            "success": {
              "type": "boolean"
            },
            "message": {
              "type": "string"
            }
          }
        },
        "VisitLogResponse": {
          "required": [
            "id",
            "purpose",
            "region",
            "schoolId",
            "visitDate"
          ],
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "description": "방문 ID",
              "format": "int32",
              "example": 1
            },
            "schoolId": {
              "type": "string",
              "description": "학교 ID",
              "example": "SCH001"
            },
            "region": {
              "type": "string",
              "description": "지역",
              "example": "강진"
            },
            "visitDate": {
              "type": "string",
              "description": "방문 일자",
              "format": "date-time"
            },
            "purpose": {
              "type": "string",
              "description": "방문 목적",
              "example": "납품"
            },
            "interviewer": {
              "type": "string",
              "description": "면담자",
              "example": "임희수"
            },
            "vocOccurred": {
              "type": "boolean",
              "description": "VOC 발생 여부",
              "example": true
            },
            "vocContent": {
              "type": "string",
              "description": "VOC 내용",
              "example": "제품 불량 발견"
            },
            "vocResolved": {
              "type": "boolean",
              "description": "VOC 해결 여부",
              "example": false
            },
            "resolution": {
              "type": "string",
              "description": "해결 내용"
            },
            "completeDate": {
              "type": "string",
              "description": "완료 일자",
              "format": "date-time"
            }
          },
          "description": "방문 기록 응답 DTO"
        },
        "SchoolInfoResponseDto": {
          "type": "object",
          "properties": {
            "schoolId": {
              "type": "string",
              "description": "학교 ID",
              "example": "SCH001"
            },
            "region": {
              "type": "string",
              "description": "지역",
              "example": "강진"
            },
            "schoolName": {
              "type": "string",
              "description": "학교명",
              "example": "강진지원교육청"
            },
            "url": {
              "type": "string",
              "description": "학교 URL",
              "example": "www.gumseang.es.kr"
            },
            "teacherName": {
              "type": "string",
              "description": "담당교사명",
              "example": "임희수"
            },
            "teacherPhone": {
              "type": "string",
              "description": "담당교사 연락처",
              "example": "010-5683-5672"
            },
            "vocOccurred": {
              "type": "boolean",
              "description": "VOC 발생 여부",
              "example": true
            },
            "vocResolved": {
              "type": "boolean",
              "description": "VOC 조치 여부",
              "example": false
            },
            "chargerPw": {
              "type": "string",
              "description": "충전함 비밀번호",
              "example": "1234"
            },
            "quantity": {
              "type": "integer",
              "description": "납품 수량",
              "format": "int32",
              "example": 10
            },
            "deliveryDate": {
              "type": "string",
              "description": "최초 납품일",
              "format": "date-time"
            },
            "amount": {
              "type": "integer",
              "description": "납품 금액",
              "format": "int32",
              "example": 1000000
            },
            "vocCode": {
              "type": "string",
              "description": "VOC 코드",
              "example": "null"
            }
          },
          "description": "학교 정보 응답 DTO"
        },
        "AccountDto": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "userId": {
              "type": "string"
            },
            "name": {
              "type": "string"
            }
          }
        }
      }
    }
  }